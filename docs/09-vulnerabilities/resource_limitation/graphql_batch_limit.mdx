---
title: Batch Limit
---

# Batch Limit

## Description

Some GraphQL engines support batching of **multiple queries** into a **single request**. This allows users to request multiple objects or multiple instances of objects efficiently.
However, an attacker can leverage this feature to evade many security measures, including rate limiting.


## Remediation

Disable or limit queries batching in your GraphQL engine.



### GraphQL Specific

<details>
    <summary>Apollo</summary>

Disable query batching in `ApolloServer` constructor options. Install our open source package [GraphQL Armor](https://github.com/Escape-Technologies/graphql-armor) for Apollo.Otherwise, you can switch off batching in the `ApolloServer` constructor options.

</details>

<details>
    <summary>Yoga</summary>

Install our open source package [GraphQL Armor](https://escape.tech/graphql-armor/docs/getting-started) for Yoga.

</details>

<details>
    <summary>Awsappsync</summary>

On AWSAppSync, batching is not supported.

</details>

<details>
    <summary>Graphqlgo</summary>

On GraphQL Go, batching is not supported.

</details>

<details>
    <summary>Graphqlruby</summary>

On GraphQL Ruby, batch limit is supported and enabled by default.

</details>

<details>
    <summary>Hasura</summary>

On Hashura, batching is not supported.

</details>

## Configuration

> Identifier: `resource_limitation/graphql_batch_limit`

### Options

- **threshold** : Maximum number of batched documents allowed to be sent
  



### Examples



#### Ignore this check

```json
{
    "checks": {
        "resource_limitation/graphql_batch_limit": {
            "skip": true
        }
    }
}
```




## Score

- Escape Severity: **<span className="low-severity">LOW</span>**

### Compliance

- OWASP: **[API8:2023](https://github.com/OWASP/API-Security/blob/master/editions/2023/en/0xa8-security-misconfiguration.md)**
- pci: **6.5.8**
- gdpr: **Article-32**
- soc2: **CC6.1**
- psd2: **Article-95**
- iso27001: **A.14.2**
- nist: **SP800-53**
- fedramp: **AC-2**

### Classification






### Score

- CVSS_VECTOR: **CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:L/E:H/RL:O/RC:R**
- CVSS_SCORE: **4.9**

## References

- [https://lab.wallarm.com/graphql-batching-attack/](https://lab.wallarm.com/graphql-batching-attack/)
  